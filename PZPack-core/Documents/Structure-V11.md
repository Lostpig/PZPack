## PZPK文件结构描述

## Version 11

#### 整体结构
+ 文件头 - 固定 92 Bytes
+ 索引区 - (n) Bytes
+ 内容区 - (n) Bytes

#### 文件头
+ 04 - [int32] 文件版本号
+ 32 - [bytes] 标识校验Hash
+ 32 - [bytes] 密码校验Hash
+ 08 - [int64] 文件创建时间戳
+ 08 - [int64] 文件总大小
+ 04 - [int32] 文件分块大小
+ 04 - [int32] 索引区长度

#### 索引区
> 使用文件头的索引区长度读取
+ 16 - [bytes] 索引区IV向量
> 读取内容解密后
+ 04 [int32] 文件夹区内容长度 = x
+ 04 [int32] 文件区内容长度 = y
+ x [bytes] 文件夹区内容
+ y [bytes] 文件区内容

#### 索引区 - 文件夹区
> 按顺序读取
+ 04 [int32] 当前文件夹内容长度 = x
+ 04 [int32] 文件夹ID
+ 04 [int32] 父文件夹ID
+ (x - 12) [bytes] 文件夹名 `UTF8`

#### 索引区 - 文件区
> 按顺序读取
+ 04 [int32] 当前文件内容长度 = x
+ 04 [int32] 文件ID
+ 04 [int32] 父文件夹ID
+ 08 [int64] 文件数据在pzpack文件内的偏移量(从0开始计算)
+ 08 [int64] 文件大小
+ 08 [int64] 源文件大小
+ (x - 36) [bytes] 文件名 `UTF8`

#### 内容区
> 内容区每一个文件都按文件头信息中的（分块大小 + 16）分块
> 每一个分块前16Bytes为IV向量，该块使用此IV向量解密
> 末尾分块不足一个分块大小时，按实际大小不填充